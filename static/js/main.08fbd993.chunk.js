(this.webpackJsonpwordrepository=this.webpackJsonpwordrepository||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},270:function(e,t,s){"use strict";s.r(t);var r=s(1),c=s.n(r),n=s(93),a=s.n(n),i=(s(100),s.p,s(101),s(18)),o=s(9),j=s(13),l=s(0),u=s.n(l),d=s(8),b=s(7),h=s(2),p=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70"),O=function(e){var t=Object(r.useState)(""),s=Object(b.a)(t,2),c=s[0],n=s[1],a=Object(r.useState)(""),i=Object(b.a)(a,2),j=i[0],l=i[1],O=Object(r.useState)(!1),x=Object(b.a)(O,2),m=x[0],f=x[1];function v(){return(v=Object(d.a)(u.a.mark((function e(){var t,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.auth.signUp({email:c,password:j});case 2:if(t=e.sent,s=t.user,t.session,!t.error){e.next=10;break}window.alert("Did you mean to sign in?"),e.next=16;break;case 10:return e.next=12,p.from("users").insert([{email:null===s||void 0===s?void 0:s.email,userId:null===s||void 0===s?void 0:s.id}]);case 12:r=e.sent,r.data,r.error,window.alert("You have signed up");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(d.a)(u.a.mark((function e(){var t,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.auth.signIn({email:c,password:j});case 2:t=e.sent,s=t.user,t.session,t.error&&window.alert("Check your email and password and try again!"),s&&(console.log(null===(r=p.auth.user())||void 0===r?void 0:r.id),console.log("Successful sign in "),f(!0));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"page-heading",children:"SIGN IN"}),Object(h.jsx)("h1",{className:"input-label",children:"Email"}),Object(h.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)}}),Object(h.jsx)("h1",{className:"input-label",children:"Password"}),Object(h.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"password",style:{marginBottom:"2rem"}}),Object(h.jsx)("button",{className:"form-button",style:{marginRight:"2rem"},onClick:function(){return g.apply(this,arguments)},children:"Sign In"}),Object(h.jsx)("button",{className:"form-button",onClick:function(){return v.apply(this,arguments)},children:"Sign Up"}),m&&void 0!==p.auth.user()?Object(h.jsx)(o.a,{to:"/"}):Object(h.jsx)("div",{})]})},x=(Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70"),function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(O,{})})}),m=s(14),f=s(21),v=s(10),g=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70");function I(e){return Object(h.jsx)("div",{className:"phrase-card-tag",children:e.data})}var y=function(e){var t=Object(r.useState)("SOMEONE"),s=Object(b.a)(t,2),c=s[0],n=s[1],a=Object(r.useState)(!1),i=Object(b.a)(a,2),o=i[0],j=i[1],l=Object(r.useState)(!0),p=Object(b.a)(l,2),O=(p[0],p[1],Object(r.useState)(0)),x=Object(b.a)(O,2),m=x[0],f=x[1];function y(){return(y=Object(d.a)(u.a.mark((function t(){var s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.from("users").select("savedPhrases","id").match({userId:g.auth.user().id});case 2:s=t.sent,r=s.data,s.error,r[0].savedPhrases.includes(e.object.id)&&j(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(d.a)(u.a.mark((function t(){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.from("pickuplines").update([{likes:m+1}]).match({id:e.object.id});case 2:s=t.sent,s.data,s.error2,f(m+1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function t(){var s,r,c,n,a,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.from("users").select("savedPhrases","id").match({userId:g.auth.user().id});case 2:if(s=t.sent,r=s.data,s.error,!r[0].savedPhrases.includes(e.object.id)){t.next=16;break}return c=r[0].savedPhrases,n=c.indexOf(e.object.id),c.splice(n,1),t.next=11,g.from("users").update([{savedPhrases:c}]).match({userId:g.auth.user().id});case 11:return a=t.sent,a.data,a.error2,j(!1),t.abrupt("return");case 16:return i=[e.object.id].concat(Object(v.a)(r[0].savedPhrases)),console.log(i),t.next=20,g.from("users").update([{savedPhrases:i}]).match({userId:g.auth.user().id});case 20:o=t.sent,o.data,o.error2,j(!0);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){g.auth.user().id==e.object.userId&&n("ME"),f(e.object.likes),function(){y.apply(this,arguments)}()}),[e.object]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"phrase-card",children:[Object(h.jsx)("p",{className:"phrase-card-text",children:e.object.data}),Object(h.jsxs)("a",{href:"",className:"phrase-card-author",children:["by ",c]}),Object(h.jsx)("div",{className:"phrase-card-actions",children:e.object.tags.map((function(e){return Object(h.jsx)(I,{data:e})}))}),Object(h.jsxs)("div",{className:"phrase-card-actions",style:{marginTop:0},children:[Object(h.jsx)("button",{className:"phrase-card-action",onClick:function(){return w.apply(this,arguments)},children:1==m?Object(h.jsxs)("p",{children:[m," Like"]}):Object(h.jsxs)("p",{children:[m," Likes"]})}),Object(h.jsx)("button",{className:"phrase-card-action",onClick:function(){return k.apply(this,arguments)},children:o?Object(h.jsx)("p",{children:"Saved"}):Object(h.jsx)("p",{children:"Save"})})]})]})})},w=s(35),k=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70");var N=function(e){var t=Object(r.useState)([]),s=Object(b.a)(t,2),c=s[0],n=s[1],a=Object(r.useState)([]),i=Object(b.a)(a,2),j=i[0],l=i[1],p=Object(r.useState)([]),O=Object(b.a)(p,2),x=O[0],v=O[1],g=Object(r.useState)(!1),I=Object(b.a)(g,2),N=(I[0],I[1]),J=Object(o.g)(),S=Object(w.a)(),C=S.register,D=S.handleSubmit;function H(){return(H=Object(d.a)(u.a.mark((function e(){var t,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("pickuplines").select().match({userId:null===(t=k.auth.user())||void 0===t?void 0:t.id}).order("date",{ascending:!1}).limit(4);case 2:s=e.sent,r=s.data,s.error,n(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(d.a)(u.a.mark((function e(){var t,s,r,c,n,a,i,o,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("users").select("savedPhrases").match({userId:null===(t=k.auth.user())||void 0===t?void 0:t.id});case 2:s=e.sent,r=s.data,s.error,console.log(r),c=[],n=Object(m.a)(r[0].savedPhrases),e.prev=8,n.s();case 10:if((a=n.n()).done){e.next=23;break}return i=a.value,e.next=14,k.from("pickuplines").select().match({id:i});case 14:if(o=e.sent,j=o.data,o.error,console.log(j,i),4!=c.length){e.next=20;break}return e.abrupt("break",23);case 20:c.push(j[0]);case 21:e.next=10;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(8),n.e(e.t0);case 28:return e.prev=28,n.f(),e.finish(28);case 31:l(c);case 32:case"end":return e.stop()}}),e,null,[[8,25,28,31]])})))).apply(this,arguments)}function T(){return(T=Object(d.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("pickuplines").select().order("likes",{ascending:!1}).limit(4);case 2:t=e.sent,s=t.data,t.error,v(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return S.formState.errors,Object(r.useEffect)((function(){console.log("hello"),function(){T.apply(this,arguments)}(),function(){H.apply(this,arguments)}(),function(){M.apply(this,arguments)}()}),[k.auth.user()]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"1rem",boxSizing:"border-box"},children:[Object(h.jsxs)("h1",{style:{fontSize:"5rem",marginBottom:"1rem"},children:["FIND THE PERFECT ",Object(h.jsx)("span",{style:{textDecoration:"underline"},children:"PICKUP LINE"})]}),Object(h.jsx)("form",{onSubmit:D((function(e){J.push("/search/"+e.value),N(!0)})),children:Object(h.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},C("value",{required:!0})),{},{placeholder:"Describe your target..."}))})]}),Object(h.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(h.jsxs)("div",{className:"phrase-column",children:[Object(h.jsx)("h2",{children:"Trending Pickups"}),x.map((function(e){return console.log(e.id),Object(h.jsx)(y,{object:e},e.id)}))]}),Object(h.jsxs)("div",{className:"phrase-column",children:[Object(h.jsx)("h2",{children:"My Pickups"}),c.map((function(e){return console.log(e.id),Object(h.jsx)(y,{object:e},e.id)}))]}),Object(h.jsxs)("div",{className:"phrase-column",children:[Object(h.jsx)("h2",{children:"Saved Pickups"}),j.map((function(e){return console.log(e),Object(h.jsx)(y,{object:e},e.id)}))]})]})]})};function J(e){return Object(h.jsxs)("div",{className:"phrase-card-tag",style:{marginBottom:"2rem",fontSize:"2rem",padding:"1rem",display:"inline-flex",alignItems:"center",backgroundColor:"var(--secondaryBackground)"},children:[e.children,Object(h.jsx)("button",{style:{marginLeft:"1rem",fontSize:"2rem",border:"none",backgroundColor:"transparent"},children:"X"})]})}var S=function(e){return Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50vw",padding:"1rem",boxSizing:"border-box"}}),Object(h.jsxs)("div",{style:{width:"50vw",padding:"1rem",boxSizing:"border-box",position:"fixed"},children:[Object(h.jsx)("input",{type:"text",placeholder:"Describe your target..."}),Object(h.jsxs)("div",{style:{marginTop:"2rem"},children:[Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"}),Object(h.jsx)(J,{children:"Hello"})]})]}),Object(h.jsx)("div",{className:"phrase-column"})]})},C=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70"),D=s(111);var H=function(e){var t=Object(r.useState)([]),s=Object(b.a)(t,2),c=s[0],n=s[1],a=Object(o.g)(),i=Object(w.a)(),j=i.register,l=i.handleSubmit,p=i.formState.errors,O=Object(w.a)(),x=O.register,m=O.handleSubmit;function g(){return(g=Object(d.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.from("pickuplines").insert([{userId:C.auth.user().id,data:t.value,tags:c}]);case 2:s=e.sent,s.data,s.error,a.push("/home");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O.formState.errors2,Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"page-heading",children:"Add a Roast"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{onSubmit:m((function(e,t){var s=D.PorterStemmer.stem(e.tag);s=s.toLowerCase(),c.includes(s)||n([].concat(Object(v.a)(c),[s])),t.target.reset()})),children:[Object(h.jsx)("h1",{className:"input-label",children:"Describe the person this is for, or the type of line (e.g. pun, bad)"}),Object(h.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},x("tag")),{},{placeholder:"french"}))]}),Object(h.jsx)("div",{style:{marginTop:"2rem"},children:c.map((function(e){return Object(h.jsx)(J,{children:e})}))})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:l((function(e){console.log("yo"),function(e){g.apply(this,arguments)}(e)})),children:[Object(h.jsx)("h1",{className:"input-label",children:"Enter Pickup Line"}),Object(h.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},j("value",{required:!0})),{},{placeholder:"Are you French? Because Eiffel for you."})),p.value&&Object(h.jsx)("h1",{className:"input-error",children:"Please enter a Pickup Line"}),Object(h.jsx)("button",{type:"submit",style:{marginTop:"2rem"},children:"Submit"})]})})]})},M=s(28);var T=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"navbar",style:{position:"unset"},children:[Object(h.jsx)(i.b,{to:"/home",className:"navbar-option",children:Object(h.jsx)(M.a,{})}),Object(h.jsxs)(i.b,{to:"/create",className:"navbar-option",children:[Object(h.jsx)(M.b,{}),Object(h.jsx)("h1",{children:"Create"})]})]}),Object(h.jsxs)("div",{className:"navbar",style:{zIndex:10},children:[Object(h.jsx)(i.b,{to:"/home",className:"navbar-option",children:Object(h.jsx)(M.a,{})}),Object(h.jsxs)(i.b,{to:"/create",className:"navbar-option",children:[Object(h.jsx)(M.b,{}),Object(h.jsx)("h1",{children:"Create"})]}),Object(h.jsx)("div",{style:{flex:1}}),Object(h.jsx)(i.b,{to:"/signout",className:"navbar-option",children:Object(h.jsx)(M.c,{})})]})]})};var X=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70");var z=function(e){var t=Object(o.g)();return Object(r.useEffect)((function(){X.auth.signOut(),t.push("/signin")}),[]),Object(h.jsx)("div",{children:"Sign Out"})},A=Object(j.a)("https://hiiwioouscmwdgfhobom.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyODA0MTA5NiwiZXhwIjoxOTQzNjE3MDk2fQ.uMF3eAqCD2zgJnJJL6h2rKYSH-d2H6rsGrXGF74X-70");var F=function(){return Object(h.jsxs)(i.a,{children:[void 0==A.auth.user()?Object(h.jsx)(o.a,{to:"/signin"}):Object(h.jsx)("div",{}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{className:"page",children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/signin",children:Object(h.jsx)(x,{})}),Object(h.jsx)(o.b,{path:"/signout",children:Object(h.jsx)(z,{})}),Object(h.jsx)(o.b,{path:"/home",children:Object(h.jsx)(N,{})}),Object(h.jsx)(o.b,{path:"/create",children:Object(h.jsx)(H,{})}),Object(h.jsx)(o.b,{path:"/search",children:Object(h.jsx)(S,{})}),Object(h.jsx)(o.b,{path:"/",children:Object(h.jsx)(N,{})})]})}),Object(h.jsx)(T,{})]})]})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,273)).then((function(t){var s=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),r(e),c(e),n(e),a(e)}))};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),P()}},[[270,1,2]]]);
//# sourceMappingURL=main.08fbd993.chunk.js.map